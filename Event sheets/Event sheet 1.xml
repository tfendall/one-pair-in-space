<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable comment="Time before a drone becomes available again after using it" constant="1" name="DRONE_COOLDOWN_TIME" sid="9140078311728296" static="0" type="number">5</variable>
        <variable constant="0" name="WaveMultiplier" sid="7950187726879294" static="0" type="number">1</variable>
        <comment>If the player is touching the screen, move towards the touch position.  Only move the player if they are further away from the touch than it is going to move - this avoids an unpleasent jittering when reaching the touch position.</comment>
        <event-block sid="6073296842764159">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="1081623918303394" type="System">
                    <param id="0" name="Interval (seconds)">10</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Add to" sid="1837880045975909" type="System">
                    <param id="0" name="Variable">WaveMultiplier</param>
                    <param id="1" name="Value">0.3</param>
                </action>
            </actions>
        </event-block>
        <comment>Make a random enemy shoot every 1 second.</comment>
        <event-block sid="7638711388050471">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="5970043854231369" type="System">
                    <param id="0" name="Interval (seconds)">random(0.3,2/WaveMultiplier)</param>
                </condition>
                <condition id="-16" name="Pick random instance" sid="36882639353252" type="System">
                    <param id="0" name="Object">Enemy</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Spawn another object" sid="5657284414868353" type="Enemy">
                    <param id="0" name="Object">EnemyBullet</param>
                    <param id="1" name="Layer">&quot;Game&quot;</param>
                    <param id="2" name="Image point">1</param>
                </action>
                <action behavior="Bullet" id="0" name="Set speed" sid="3927596062630054" type="EnemyBullet">
                    <param id="0" name="Speed">200*WaveMultiplier</param>
                </action>
            </actions>
        </event-block>
        <comment>Every 2 seconds make a new enemy spawn at a random horizontal position at the top of the screen.</comment>
        <event-block sid="1992624714236339">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="4654092486844458" type="System">
                    <param id="0" name="Interval (seconds)">random(1,4/WaveMultiplier)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="5636572497815455" type="System">
                    <param id="0" name="Object to create">Enemy</param>
                    <param id="1" name="Layer">&quot;Game&quot;</param>
                    <param id="2" name="X">random(30, 450)</param>
                    <param id="3" name="Y">-20</param>
                </action>
                <action behavior="Bullet" id="0" name="Set speed" sid="1731637005200847" type="Enemy">
                    <param id="0" name="Speed">WaveMultiplier*40</param>
                </action>
            </actions>
        </event-block>
        <comment>If any enemies are above the player, make the player automatically shoot 10 times a second.</comment>
        <event-block sid="1508400842182784">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="7583842926358312" type="System">
                    <param id="0" name="Interval (seconds)">0.1</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block any="1" sid="7170773183616592">
                    <conditions>
                        <condition id="3" name="Is button down" sid="7888395583162324" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">6</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="5599426794089962" type="Keyboard">
                            <param id="0" name="Key">69 (E)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="8131749694212279" type="Player">
                            <param id="0" name="Object">Bullet</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="25" name="Play at object" sid="1392752310192318" type="Audio">
                            <param id="0" name="Audio file">pew</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Player</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="2196037768033194">
                            <conditions>
                                <condition id="-24" name="For Each (ordered)" sid="2041411848442012" type="System">
                                    <param id="0" name="Object">Drone</param>
                                    <param id="1" name="Expression">0</param>
                                    <param id="2" name="Order">0</param>
                                </condition>
                                <condition id="-8" name="Is boolean instance variable set" sid="8643324461254776" type="Drone">
                                    <param id="0" name="Instance variable">CirclingPlayer</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="116371883727094" type="System">
                                    <param id="0" name="Object to create">Bullet</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="X">Drone.X</param>
                                    <param id="3" name="Y">Drone.Y - Drone.Height/2</param>
                                </action>
                                <action id="-19" name="Rotate counter-clockwise" sid="185578285027534" type="Bullet">
                                    <param id="0" name="Degrees">90</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block any="1" sid="5937028107697718">
                    <conditions>
                        <condition id="3" name="Is button down" sid="6379481628358043" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">7</param>
                        </condition>
                        <condition id="2" name="Key is down" sid="6806257562100396" type="Keyboard">
                            <param id="0" name="Key">85 (U)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="4927446944594261" type="Player2">
                            <param id="0" name="Object">Bullet</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="25" name="Play at object" sid="736065566502466" type="Audio">
                            <param id="0" name="Audio file">pew</param>
                            <param id="1" name="Loop">0</param>
                            <param id="2" name="Volume">0</param>
                            <param id="3" name="Object">Player2</param>
                            <param id="4" name="Inner angle">360</param>
                            <param id="5" name="Outer angle">360</param>
                            <param id="6" name="Outer gain">0</param>
                            <param id="7" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <comment>If a player bullet hits an enemy, subtract 1 from their health.  If the enemy runs out of health, destroy it.</comment>
        <event-block sid="379893924002785">
            <conditions>
                <condition id="0" name="On collision with another object" sid="7298637217365004" type="Bullet">
                    <param id="0" name="Object">Enemy</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Subtract from" sid="3067123904965754" type="Enemy">
                    <param id="0" name="Instance variable">Health</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action disabled="1" id="-9" name="Destroy" sid="898530252795106" type="Bullet" />
                <action id="4" name="Set animation" sid="7153501193238231" type="Enemy">
                    <param id="0" name="Animation">&quot;damaged&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8211397968408667">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="2818518150593958" type="Enemy">
                    <param id="0" name="Instance variable">Health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="1846316993516929" type="Enemy" />
                <action id="25" name="Play at object" sid="3172630029785718" type="Audio">
                    <param id="0" name="Audio file">small_splosion</param>
                    <param id="1" name="Loop">0</param>
                    <param id="2" name="Volume">0</param>
                    <param id="3" name="Object">Enemy</param>
                    <param id="4" name="Inner angle">360</param>
                    <param id="5" name="Outer angle">360</param>
                    <param id="6" name="Outer gain">0</param>
                    <param id="7" name="Tag (optional)">&quot;&quot;</param>
                </action>
            </actions>
        </event-block>
        <comment>If an enemy bullet hits the player, just destroy the bullet.</comment>
        <event-block sid="5803365796019762">
            <conditions>
                <condition id="0" name="On collision with another object" sid="2833872710131508" type="EnemyBullet">
                    <param id="0" name="Object">Player</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="7143117870673165" type="EnemyBullet" />
            </actions>
            <sub-events>
                <event-block sid="8887498071608035">
                    <conditions>
                        <condition id="-34" name="Pick by evaluate" sid="417538111135584" type="System">
                            <param id="0" name="Object">Drone</param>
                            <param id="1" name="Expression">Drone.CirclingPlayer</param>
                        </condition>
                        <condition id="-13" name="Pick nth instance" sid="4684767267069801" type="System">
                            <param id="0" name="Object">Drone</param>
                            <param id="1" name="Instance">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="8271863006763443" type="Drone" />
                        <action id="-16" name="Wait" sid="9393452369769419" type="System">
                            <param id="0" name="Seconds">DRONE_COOLDOWN_TIME</param>
                        </action>
                        <action id="-10" name="Set value" sid="3104235737524238" type="Player2">
                            <param id="0" name="Instance variable">numDronesAvailable</param>
                            <param id="1" name="Value">clamp(Player2.numDronesAvailable+1, 0, Player2.maxDronesAvailable)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="6793436750668349">
                    <conditions>
                        <condition id="-22" name="Else" sid="6406003426471137" type="System" />
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="8273483778750169" type="Player">
                            <param id="0" name="Instance variable">health</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-34" name="Set layer background color" sid="6736776796623517" type="System">
                            <param id="0" name="Layer">0</param>
                            <param id="1" name="Color">rgb(150, 0, 0)</param>
                        </action>
                        <action id="-16" name="Wait" sid="755600476720439" type="System">
                            <param id="0" name="Seconds">0.05</param>
                        </action>
                        <action id="-34" name="Set layer background color" sid="6781834216788562" type="System">
                            <param id="0" name="Layer">0</param>
                            <param id="1" name="Color">rgb(0, 0, 0)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="8034113915817586">
            <conditions>
                <condition id="0" name="On collision with another object" sid="6910786976175389" type="EnemyBullet">
                    <param id="0" name="Object">Player2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="5926808676556814" type="EnemyBullet" />
                <action id="-12" name="Subtract from" sid="7268792319190709" type="Player2">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-34" name="Set layer background color" sid="1378826415395695" type="System">
                    <param id="0" name="Layer">0</param>
                    <param id="1" name="Color">rgb(150, 0, 0)</param>
                </action>
                <action id="-16" name="Wait" sid="2138827141639718" type="System">
                    <param id="0" name="Seconds">0.05</param>
                </action>
                <action id="-34" name="Set layer background color" sid="1220725580905344" type="System">
                    <param id="0" name="Layer">0</param>
                    <param id="1" name="Color">rgb(0, 0, 0)</param>
                </action>
            </actions>
        </event-block>
        <comment>Destroy any enemies which make it to the bottom of the screen and leave the layout.</comment>
        <event-block sid="1110148991420708">
            <conditions>
                <condition id="-2" name="Compare Y" sid="7649822534221979" type="Enemy">
                    <param id="0" name="Comparison">5</param>
                    <param id="1" name="Y co-ordinate">LayoutHeight</param>
                </condition>
                <condition id="-4" name="Is outside layout" sid="9331663998129227" type="Enemy" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="110969997790267" type="Enemy" />
            </actions>
        </event-block>
        <comment>Destroy the initial star object in the layout.</comment>
        <event-block sid="1962933146967913">
            <conditions>
                <condition id="-2" name="On start of layout" sid="8152208617927243" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="2405475707592166" type="Star" />
            </actions>
        </event-block>
        <comment>Create 50 random stars with different speeds and sizes on startup to create a space background effect.  The stars have a wrap behavior which keeps them on-screen.</comment>
        <event-block sid="5485387986874201">
            <conditions>
                <condition id="-2" name="On start of layout" sid="7650819342176192" type="System" />
                <condition id="-12" name="Repeat" sid="2278455488511765" type="System">
                    <param id="0" name="Count">50</param>
                </condition>
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="9176855446197518" type="System">
                    <param id="0" name="Object to create">Star</param>
                    <param id="1" name="Layer">&quot;Background&quot;</param>
                    <param id="2" name="X">random(LayoutWidth)</param>
                    <param id="3" name="Y">random(LayoutHeight)</param>
                </action>
                <action behavior="Bullet" id="0" name="Set speed" sid="7125701164937127" type="Star">
                    <param id="0" name="Speed">random(10, 80)</param>
                </action>
                <action id="9" name="Set scale" sid="7430655799318445" type="Star">
                    <param id="0" name="Scale">Self.Bullet.Speed / 350</param>
                </action>
                <action id="-16" name="Set opacity" sid="8469080400229223" type="Star">
                    <param id="0" name="Opacity">Self.Bullet.Speed</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="6221205934686134">
            <conditions>
                <condition id="5" name="Compare axis" sid="8181772407350036" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">0</param>
                    <param id="2" name="Comparison">2</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="9148133099526391" type="Keyboard">
                    <param id="0" name="Key">65 (A)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="2553066926157612" type="Player">
                    <param id="0" name="Control">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="4578980800796312">
            <conditions>
                <condition id="5" name="Compare axis" sid="3029147539856144" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">0</param>
                    <param id="2" name="Comparison">4</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="6651384943529142" type="Keyboard">
                    <param id="0" name="Key">68 (D)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="5109078999650653" type="Player">
                    <param id="0" name="Control">1</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="3061256688676425">
            <conditions>
                <condition id="5" name="Compare axis" sid="5545748692314983" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">1</param>
                    <param id="2" name="Comparison">2</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="9981275756129882" type="Keyboard">
                    <param id="0" name="Key">87 (W)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="1338471391852033" type="Player">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="1544235070965125">
            <conditions>
                <condition id="5" name="Compare axis" sid="6934385299631126" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">1</param>
                    <param id="2" name="Comparison">4</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="5362986237018147" type="Keyboard">
                    <param id="0" name="Key">83 (S)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="8258664674794867" type="Player">
                    <param id="0" name="Control">3</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="4303428239999192">
            <conditions>
                <condition id="5" name="Compare axis" sid="4984949214456873" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">2</param>
                    <param id="2" name="Comparison">2</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="471893458314848" type="Keyboard">
                    <param id="0" name="Key">74 (J)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="3001479703474869" type="Player2">
                    <param id="0" name="Control">0</param>
                </action>
                <action id="-10" name="Set value" sid="1482342876570253" type="Player2">
                    <param id="0" name="Instance variable">IdleTime</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="5694034570381786">
            <conditions>
                <condition id="5" name="Compare axis" sid="3691745580080238" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">2</param>
                    <param id="2" name="Comparison">4</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="792134587823058" type="Keyboard">
                    <param id="0" name="Key">76 (L)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="4368871629619114" type="Player2">
                    <param id="0" name="Control">1</param>
                </action>
                <action id="-10" name="Set value" sid="9584804639503155" type="Player2">
                    <param id="0" name="Instance variable">IdleTime</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="55316988698476">
            <conditions>
                <condition id="5" name="Compare axis" sid="866159101286137" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">3</param>
                    <param id="2" name="Comparison">2</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="5279946754711202" type="Keyboard">
                    <param id="0" name="Key">73 (I)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="7504624213956544" type="Player2">
                    <param id="0" name="Control">2</param>
                </action>
                <action id="-10" name="Set value" sid="7982929028943758" type="Player2">
                    <param id="0" name="Instance variable">IdleTime</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block any="1" sid="3481397467531758">
            <conditions>
                <condition id="5" name="Compare axis" sid="8909594505870857" type="Gamepad">
                    <param id="0" name="Gamepad">0</param>
                    <param id="1" name="Axis">3</param>
                    <param id="2" name="Comparison">4</param>
                    <param id="3" name="Value">0</param>
                </condition>
                <condition id="2" name="Key is down" sid="1549518560338718" type="Keyboard">
                    <param id="0" name="Key">75 (K)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="8Direction" id="7" name="Simulate control" sid="3383439074787022" type="Player2">
                    <param id="0" name="Control">3</param>
                </action>
                <action id="-10" name="Set value" sid="7682985913275587" type="Player2">
                    <param id="0" name="Instance variable">IdleTime</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3937999036792105">
            <conditions>
                <condition id="-25" name="On loader layout complete" sid="2189925755137107" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Play" sid="4977118980570145" type="Audio">
                    <param id="0" name="Audio file">dododod</param>
                    <param id="2" name="Loop">1</param>
                    <param id="3" name="Volume">20</param>
                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3579062448909754">
            <conditions>
                <condition id="-1" name="Every tick" sid="2856209479822469" type="System" />
            </conditions>
            <actions>
                <action id="-4" name="Set position to another object" sid="7632434600044006" type="Text">
                    <param id="0" name="Object">Player</param>
                    <param id="1" name="Image point (optional)">2</param>
                </action>
                <action id="-4" name="Set position to another object" sid="1001509640158874" type="Text2">
                    <param id="0" name="Object">Player2</param>
                    <param id="1" name="Image point (optional)">2</param>
                </action>
                <action id="0" name="Set text" sid="5978172185841113" type="Text">
                    <param id="0" name="Text">str(Player.health)</param>
                </action>
                <action id="0" name="Set text" sid="6292001338551395" type="Text2">
                    <param id="0" name="Text">Player2.health &amp; &quot;(&quot; &amp; Player2.numDronesAvailable &amp; &quot;)&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="6620468016848259">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="6188121604094751" type="Player">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="3293298022767049" type="Player" />
                <action id="-9" name="Destroy" sid="328148038264872" type="Text" />
            </actions>
        </event-block>
        <event-block sid="3237434406662509">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="3768980565267532" type="Player2">
                    <param id="0" name="Instance variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="7611634465320942" type="Player2" />
                <action id="-9" name="Destroy" sid="873901836942866" type="Text2" />
            </actions>
        </event-block>
        <variable comment="Idle time before we start piloting for you" constant="1" name="IDLE_TIME_BEFORE_AUTOPILOT" sid="7587027627942193" static="0" type="number">2</variable>
        <event-group collapsed="1" description="If stick is inactive, make the second ship follow the first ship" sid="2089813058126001" title="Auto Pilot">
            <sub-events>
                <event-block sid="7239340143530912">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="2484350883280269" type="System" />
                        <condition id="5" name="Compare axis" sid="1408722695072208" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">2</param>
                            <param id="2" name="Comparison">0</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                        <condition id="5" name="Compare axis" sid="9560509489794147" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Axis">3</param>
                            <param id="2" name="Comparison">0</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5848974289934456" type="Player2">
                            <param id="0" name="Instance variable">IdleTime</param>
                            <param id="1" name="Comparison">2</param>
                            <param id="2" name="Value">IDLE_TIME_BEFORE_AUTOPILOT</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="6412840344957328" type="Player2">
                            <param id="0" name="Instance variable">IdleTime</param>
                            <param id="1" name="Value">dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9882678809466788">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="2529809145772593" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="6629681326183156" type="Player2">
                            <param id="0" name="Instance variable">IdleTime</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">IDLE_TIME_BEFORE_AUTOPILOT</param>
                        </condition>
                        <condition id="-3" name="Is on-screen" sid="73898321810441" type="Player" />
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="9" name="Set vector X" sid="5865119605521166" type="Player2">
                            <param id="0" name="Vector X">(Player.X - Player2.X)*4</param>
                        </action>
                        <action behavior="8Direction" id="10" name="Set vector Y" sid="8001877520442073" type="Player2">
                            <param id="0" name="Vector Y">((Player.Y + Player.Height*1.5) - Player2.Y)*2</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <variable constant="1" name="DRONE_CIRCLE_SPEED" sid="1139560629416788" static="0" type="number">120</variable>
        <variable constant="1" name="DRONE_CIRCLE_DISTANCE" sid="9249968425961828" static="0" type="number">45</variable>
        <event-group description="" sid="4942832535149624" title="Drone Ability">
            <sub-events>
                <event-block sid="4861297341924405">
                    <conditions>
                        <condition id="6" name="On button pressed" sid="7290588006450331" type="Gamepad">
                            <param id="0" name="Gamepad">0</param>
                            <param id="1" name="Button">3</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="5569024272429943" type="Player2">
                            <param id="0" name="Instance variable">numDronesAvailable</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="2578167420237278" type="System">
                            <param id="0" name="Object to create">Drone</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="X">Player2.ImagePointX(0)</param>
                            <param id="3" name="Y">Player2.ImagePointY(0)</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="5291186665660317" type="Player2">
                            <param id="0" name="Instance variable">numDronesAvailable</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9690545893759464">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="9590446676307949" type="Drone">
                            <param id="0" name="Object">Player</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="8917167109545009" type="Drone">
                            <param id="0" name="Instance variable">CirclingPlayer</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Bullet" id="0" name="Set speed" sid="4130431073094181" type="Drone">
                            <param id="0" name="Speed">0</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="3871570474954894" type="Drone">
                            <param id="0" name="Instance variable">CirclingPlayer</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="869624989994513">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="7560356847906091" type="System" />
                        <condition id="-8" name="Is boolean instance variable set" sid="278893588230792" type="Drone">
                            <param id="0" name="Instance variable">CirclingPlayer</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="8467079875279502" type="Drone">
                            <param id="0" name="Instance variable">CirclingAngle</param>
                            <param id="1" name="Value">(Drone.CirclingAngle + dt*DRONE_CIRCLE_SPEED)%360</param>
                        </action>
                        <action id="-3" name="Set position" sid="793577701872569" type="Drone">
                            <param id="0" name="X">Player.X + sin(Drone.CirclingAngle)*DRONE_CIRCLE_DISTANCE</param>
                            <param id="1" name="Y">Player.Y+ cos(Drone.CirclingAngle)*DRONE_CIRCLE_DISTANCE</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4480519353938299">
                    <conditions>
                        <condition id="-2" name="Compare Y" sid="6610407965604335" type="Drone">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="Y co-ordinate">-Drone.Height*4</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="4041753048988952" type="Drone" />
                        <action id="-16" name="Wait" sid="9146032907557847" type="System">
                            <param id="0" name="Seconds">DRONE_COOLDOWN_TIME</param>
                        </action>
                        <action id="-10" name="Set value" sid="3663889816201426" type="Player2">
                            <param id="0" name="Instance variable">numDronesAvailable</param>
                            <param id="1" name="Value">clamp(Player2.numDronesAvailable+1, 0, Player2.maxDronesAvailable)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3266112201821072">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="5475003553806547" type="Drone">
                            <param id="0" name="Object">Enemy</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="7538610640895897" type="Drone">
                            <param id="0" name="Instance variable">CirclingPlayer</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="9288385173320187" type="Enemy">
                            <param id="0" name="Instance variable">Health</param>
                            <param id="1" name="Value">5</param>
                        </action>
                        <action id="-9" name="Destroy" sid="9425920315139348" type="Drone" />
                        <action id="-16" name="Wait" sid="9988439468696177" type="System">
                            <param id="0" name="Seconds">DRONE_COOLDOWN_TIME</param>
                        </action>
                        <action id="-10" name="Set value" sid="4489226595489948" type="Player2">
                            <param id="0" name="Instance variable">numDronesAvailable</param>
                            <param id="1" name="Value">clamp(Player2.numDronesAvailable+1, 0, Player2.maxDronesAvailable)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <variable constant="1" name="DIALOG_PAUSE_TIME" sid="6552068629347387" static="0" type="number">4</variable>
        <event-group description="" sid="1609306543797418" title="Story and Dialogue" />
        <event-block sid="7217554999824965">
            <conditions>
                <condition id="-2" name="On start of layout" sid="1104546862139808" type="System" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="742271697617682" type="StoryText">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="-15" name="Set visible" sid="2074066363902153" type="StoryImg">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="0" name="Set text" sid="6142431450253981" type="StoryText">
                    <param id="0" name="Text">&quot;Pilots.  We need you now more than ever.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="5088182422123576" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="0" name="Set text" sid="1584429007387193" type="StoryText">
                    <param id="0" name="Text">&quot;After last week&apos;s snafu in responding to the civil disobedience in Sector 84,&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="1169027451995329" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="0" name="Set text" sid="1055822833744726" type="StoryText">
                    <param id="0" name="Text">&quot;Planet Friendly is now the only habitable planet left in the WHOLE UNIVERSE!&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="6688688831149825" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="0" name="Set text" sid="7915917018929982" type="StoryText">
                    <param id="0" name="Text">&quot;For our people to have any chance at survival, we must take over Planet Friendly.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="9742280213193425" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="0" name="Set text" sid="4573037398651592" type="StoryText">
                    <param id="0" name="Text">&quot;Unfortunately, the selfish Friendlians are onto us, and are preparing to defend themselves.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="9582499510432097" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="0" name="Set text" sid="9193371245173127" type="StoryText">
                    <param id="0" name="Text">&quot;You must destroy them and secure Planet Friendly for us.  We only have one shot.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="6257028761502428" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="-15" name="Set visible" sid="6697062801088268" type="StoryText">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-15" name="Set visible" sid="5679378734936866" type="StoryImg">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-16" name="Wait" sid="806278633375343" type="System">
                    <param id="0" name="Seconds">1.0</param>
                </action>
                <action id="4" name="Set animation" sid="9617637607844911" type="StoryImg">
                    <param id="0" name="Animation">&quot;Player1&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-15" name="Set visible" sid="7035391280263098" type="StoryText">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="-15" name="Set visible" sid="6268271984985294" type="StoryImg">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="4" name="Set font color" sid="8789339022894476" type="StoryText">
                    <param id="0" name="Color">rgb(255, 51, 0)</param>
                </action>
                <action id="0" name="Set text" sid="7703395574845062" type="StoryText">
                    <param id="0" name="Text">&quot;Copy that, Mr. President.  Lock and load.  Let&apos;s kick some Friendly ass.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="3083598033720904" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="-15" name="Set visible" sid="7576274292281959" type="StoryImg">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-15" name="Set visible" sid="3616549351981067" type="StoryText">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-16" name="Wait" sid="9427386514697837" type="System">
                    <param id="0" name="Seconds">1.0</param>
                </action>
                <action id="4" name="Set animation" sid="8435211151631617" type="StoryImg">
                    <param id="0" name="Animation">&quot;Player2&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-15" name="Set visible" sid="2550002763455565" type="StoryText">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="-15" name="Set visible" sid="266204307853208" type="StoryImg">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="4" name="Set font color" sid="6093730719104095" type="StoryText">
                    <param id="0" name="Color">rgb(33, 99, 0)</param>
                </action>
                <action id="0" name="Set text" sid="6977426517955751" type="StoryText">
                    <param id="0" name="Text">&quot;But at what cost?  What, in the end, are we saving, if we sacrifce our humanity?&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="3586293627815138" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action id="-15" name="Set visible" sid="7616494701720552" type="StoryImg">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-15" name="Set visible" sid="4533425438825685" type="StoryText">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-16" name="Wait" sid="3694575373124639" type="System">
                    <param id="0" name="Seconds">1.0</param>
                </action>
                <action id="4" name="Set animation" sid="5083503309369365" type="StoryImg">
                    <param id="0" name="Animation">&quot;Player1&quot;</param>
                    <param id="1" name="From">1</param>
                </action>
                <action id="-15" name="Set visible" sid="2055958336459304" type="StoryText">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="-15" name="Set visible" sid="9756251954690955" type="StoryImg">
                    <param id="0" name="Visibility">1</param>
                </action>
                <action id="4" name="Set font color" sid="1814517546890281" type="StoryText">
                    <param id="0" name="Color">rgb(255, 51, 0)</param>
                </action>
                <action id="0" name="Set text" sid="3239025353824767" type="StoryText">
                    <param id="0" name="Text">&quot;Save the philosophizing for the victory party, partner.  We&apos;ve got a planet to conquer.&quot;</param>
                </action>
                <action id="-16" name="Wait" sid="6633888836267385" type="System">
                    <param id="0" name="Seconds">DIALOG_PAUSE_TIME</param>
                </action>
                <action behavior="Fade" id="1" name="Start fade" sid="7655752543048254" type="StoryImg" />
                <action behavior="Fade" id="1" name="Start fade" sid="9402349223756945" type="StoryText" />
            </actions>
        </event-block>
    </events>
</c2eventsheet>
